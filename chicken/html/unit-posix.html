<html><head><title>CHICKEN User's Manual - Unit posix</title></head><body>
<p> </p><a name='Unit posix'><h1>Unit posix</h1></a><p>This unit provides services as used on many UNIX-like systems.  Note that the following definitions are not all available on non-UNIX systems like Windows. See below for Windows specific notes.</p><p>This unit uses the <tt>regex</tt>, <tt>scheduler</tt>, <tt>extras</tt> and <tt>utils</tt> units.</p><p>All errors related to failing file-operations will signal a condition of kind <tt>(exn i/o file)</tt>.</p><a name='Directories'><h2>Directories</h2></a><a name='change-directory'><h3>change-directory</h3></a><pre>[procedure] (change-directory NAME)</pre><p>Changes the current working directory to <tt>NAME</tt>.</p><a name='current-directory'><h3>current-directory</h3></a><pre>[procedure] (current-directory [DIR])</pre><p>Returns the name of the current working directory. If the optional argument <tt>DIR</tt> is given, then <tt>(current-directory DIR)</tt> is equivalent to <tt>(change-directory DIR)</tt>.</p><a name='create-directory'><h3>create-directory</h3></a><pre>[procedure] (create-directory NAME)</pre><p>Creates a directory with the pathname <tt>NAME</tt>.</p><a name='delete-directory'><h3>delete-directory</h3></a><pre>[procedure] (delete-directory NAME)</pre><p>Deletes the directory with the pathname <tt>NAME</tt>. The directory has to be empty.</p><a name='directory'><h3>directory</h3></a><pre>[procedure] (directory [PATHNAME [SHOW-DOTFILES?]])</pre><p>Returns a list with all files that are contained in the directory with the name <tt>PATHNAME</tt> (which defaults to the value of <tt>(current-directory)</tt>). If <tt>SHOW-DOTFILES?</tt> is given and not <tt>#f</tt>, then files beginning with <em>.</em> are not included in the directory listing.</p><a name='directory?'><h3>directory?</h3></a><pre>[procedure] (directory? NAME)</pre><p>Returns <tt>#t</tt> if there exists a file with the name <tt>NAME</tt> and if that file is a directory, or <tt>#f</tt> otherwise.</p><a name='glob'><h3>glob</h3></a><pre>[procedure] (glob PATTERN1 ...)</pre><p>Returns a list of the pathnames of all existing files matching <tt>PATTERN1 ...</tt>, which should be strings containing the usual file-patterns (with <tt>*</tt> matching zero or more characters and <tt>?</tt> matching zero or one character).</p><a name='set-root-directory!'><h3>set-root-directory!</h3></a><pre>[procedure] (set-root-directory! STRING)</pre><p>Sets the root directory for the current process to the path given in <tt>STRING</tt> (using the <tt>chroot</tt> function). If the current process has no root permissions, the operation will fail.</p><a name='Pipes'><h2>Pipes</h2></a><a name='call-with-input-pipe'><h3>call-with-input-pipe</h3></a><a name='call-with-output-pipe'><h3>call-with-output-pipe</h3></a><pre>[procedure] (call-with-input-pipe CMDLINE PROC [MODE])
[procedure] (call-with-output-pipe CMDLINE PROC [MODE])</pre><p>Call <tt>PROC</tt> with a single argument: a input- or output port for a pipe connected to the subprocess named in <tt>CMDLINE</tt>. If <tt>PROC</tt> returns normally, the pipe is closed and any result values are returned.</p><a name='close-input-pipe'><h3>close-input-pipe</h3></a><a name='close-output-pipe'><h3>close-output-pipe</h3></a><pre>[procedure] (close-input-pipe PORT)
[procedure] (close-output-pipe PORT)</pre><p>Closes the pipe given in <tt>PORT</tt> and waits until the connected subprocess finishes. The exit-status code of the invoked process is returned.</p><a name='create-pipe'><h3>create-pipe</h3></a><pre>[procedure] (create-pipe)</pre><p>The fundamental pipe-creation operator. Calls the C function <tt>pipe()</tt> and returns 2 values: the file-descriptors of the input- and output-ends of the pipe.</p><a name='open-input-pipe'><h3>open-input-pipe</h3></a><pre>[procedure] (open-input-pipe CMDLINE [MODE])</pre><p>Spawns a subprocess with the command-line string <tt>CMDLINE</tt> and returns a port, from which the output of the process can be read. If <tt>MODE</tt> is specified, it should be the keyword <tt>#:text</tt> (the default) or <tt>#:binary</tt>.</p><a name='open-output-pipe'><h3>open-output-pipe</h3></a><pre>[procedure] (open-output-pipe CMDLINE [MODE])</pre><p>Spawns a subprocess with the command-line string <tt>CMDLINE</tt> and returns a port. Anything written to that port is treated as the input for the process.  If <tt>MODE</tt> is specified, it should be the keyword <tt>#:text</tt> (the default) or <tt>#:binary</tt>.</p><a name='pipe/buf'><h3>pipe/buf</h3></a><p>This variable contains the maximal number of bytes that can be written atomically into a pipe or FIFO.</p><a name='with-input-from-pipe'><h3>with-input-from-pipe</h3></a><a name='with-output-to-pipe'><h3>with-output-to-pipe</h3></a><pre>[procedure] (with-input-from-pipe CMDLINE THUNK [MODE])
[procedure] (with-output-to-pipe CMDLINE THUNK [MODE])</pre><p>Temporarily set the value of <tt>current-input-port/current-output-port</tt> to a port for a pipe connected to the subprocess named in <tt>CMDLINE</tt> and call the procedure <tt>THUNK</tt> with no arguments. After <tt>THUNK</tt> returns normally the pipe is closed and the standard input-/output port is restored to its previous value and any result values are returned.</p><PRE>
(with-output-to-pipe 
  <B><FONT COLOR="#BC8F8F">&quot;gs -dNOPAUSE -sDEVICE=jpeg -dBATCH -sOutputFile=signballs.jpg -g600x600 -q -&quot;</FONT></B>
  (<B><FONT COLOR="#A020F0">lambda</FONT></B> ()
    (print #&lt;&lt;EOF
%!IOPSC-1993 %%Creator: HAYAKAWA Takashi&lt;xxxxxxxx@xx.xxxxxx.xx.xx&gt;
/C/neg/d/mul/R/rlineto/E/exp/H{{cvx def}repeat}def/T/dup/g/gt/r/roll/J/ifelse 8
H/A/copy(z&amp;v4QX&amp;93r9AxYQOZomQalxS2w!!O&amp;vMYa43d6r93rMYvx2dca!D&amp;cjSnjSnjjS3o!v&amp;6A
X&amp;55SAxM1CD7AjYxTTd62rmxCnTdSST0g&amp;12wECST!&amp;!J0g&amp;D1!&amp;xM0!J0g!l&amp;544dC2Ac96ra!m&amp;3A
F&amp;&amp;vGoGSnCT0g&amp;wDmlvGoS8wpn6wpS2wTCpS1Sd7ov7Uk7o4Qkdw!&amp;Mvlx1S7oZES3w!J!J!Q&amp;7185d
Z&amp;lx1CS9d9nE4!k&amp;X&amp;MY7!&amp;1!J!x&amp;jdnjdS3odS!N&amp;mmx1C2wEc!G&amp;150Nx4!n&amp;2o!j&amp;43r!U&amp;0777d
]&amp;2AY2A776ddT4oS3oSnMVC00VV0RRR45E42063rNz&amp;v7UX&amp;UOzF!F!J![&amp;44ETCnVn!a&amp;1CDN!Y&amp;0M
V1c&amp;j2AYdjmMdjjd!o&amp;1r!M){( )T 0 4 3 r put T(/)g{T(9)g{cvn}{cvi}J}{($)g[]J}J
cvx}forall/moveto/p/floor/w/div/S/add 29 H[{[{]setgray fill}for Y}for showpage
EOF
) ) )
</PRE>
<a name='Fifos'><h2>Fifos</h2></a><a name='create-fifo'><h3>create-fifo</h3></a><pre>[procedure] (create-fifo FILENAME [MODE])</pre><p>Creates a FIFO with the name <tt>FILENAME</tt> and the permission bits <tt>MODE</tt>, which defaults to</p><PRE>
 [procedure] (+ perm/irwxu perm/irwxg perm/irwxo)
</PRE>
<a name='fifo?'><h3>fifo?</h3></a><pre>[procedure] (fifo? FILENAME)</pre><p>Returns <tt>#t</tt> if the file with the name <tt>FILENAME</tt> names a FIFO.</p><a name='File descriptors and low-level I/O'><h2>File descriptors and low-level I/O</h2></a><a name='duplicate-fileno'><h3>duplicate-fileno</h3></a><pre>[procedure] (duplicate-fileno OLD [NEW])</pre><p>If <tt>NEW</tt> is given, then the file-descriptor <tt>NEW</tt> is opened to access the file with the file-descriptor <tt>OLD</tt>. Otherwise a fresh file-descriptor accessing the same file as <tt>OLD</tt> is returned.</p><a name='file-close'><h3>file-close</h3></a><pre>[procedure] (file-close FILENO)</pre><p>Closes the input/output file with the file-descriptor <tt>FILENO</tt>.</p><a name='file-open'><h3>file-open</h3></a><pre>[procedure] (file-open FILENAME FLAGS [MODE])</pre><p>Opens the file specified with the string <tt>FILENAME</tt> and open-flags <tt>FLAGS</tt> using the C function <tt>open()</tt>. On success a file-descriptor for the opened file is returned.  <tt>FLAGS</tt> should be a bitmask containing one or more of the <tt>open/...</tt> values <strong>or</strong>ed together using <tt>bitwise-ior</tt> (or simply added together).  The optional <tt>MODE</tt> should be a bitmask composed of one or more permission values like <tt>perm/irusr</tt> and is only relevant when a new file is created. The default mode is  <tt>perm/irwxu | perm/irgrp | perm/iroth</tt>.</p><a name='file-mkstemp'><h3>file-mkstemp</h3></a><pre>[procedure] (file-mkstemp TEMPLATE-FILENAME)</pre><p>Create a file based on the given <tt>TEMPLATE-FILENAME</tt>, in which the six last characters must be <em>XXXXXX</em>.  These will be replaced with a string that makes the filename unique.  The file descriptor of the created file and the generated filename is returned.  See the <tt>mkstemp(3)</tt> manual page for details on how this function works.  The template string given is not modified.</p><p>Example usage:</p><PRE>
 (let-values (((fd temp-path) (file-mkstemp <B><FONT COLOR="#BC8F8F">&quot;/tmp/mytemporary.XXXXXX&quot;</FONT></B>)))
  (<B><FONT COLOR="#A020F0">let</FONT></B> ((temp-port (open-output-file* fd)))
    (format temp-port <B><FONT COLOR="#BC8F8F">&quot;This file is ~A.~%&quot;</FONT></B> temp-path)
    (close-output-port temp-port)))
</PRE>
<a name='file-read'><h3>file-read</h3></a><pre>[procedure] (file-read FILENO SIZE [BUFFER])</pre><p>Reads <tt>SIZE</tt> bytes from the file with the file-descriptor <tt>FILENO</tt>.  If a string or bytevector is passed in the optional argument <tt>BUFFER</tt>, then this string will be destructively modified to contain the read data. This procedure returns a list with two values: the buffer containing the data and the number of bytes read.</p><a name='file-select'><h3>file-select</h3></a><pre>[procedure] (file-select READFDLIST WRITEFDLIST [TIMEOUT])</pre><p>Waits until any of the file-descriptors given in the lists <tt>READFDLIST</tt> and <tt>WRITEFDLIST</tt> is ready for input or output, respectively. If the optional argument <tt>TIMEOUT</tt> is given and not false, then it should specify the number of seconds after which the wait is to be aborted. This procedure returns two values: the lists of file-descriptors ready for input and output, respectively. <tt>READFDLIST</tt> and <strong>WRITEFDLIST</strong> may also by file-descriptors instead of lists.  In this case the returned values are booleans indicating whether input/output is ready by <tt>#t</tt> or <tt>#f</tt> otherwise.  You can also pass <tt>#f</tt> as <tt>READFDLIST</tt> or <tt>WRITEFDLIST</tt> argument, which is equivalent to <tt>()</tt>.</p><a name='file-write'><h3>file-write</h3></a><pre>[procedure] (file-write FILENO BUFFER [SIZE])</pre><p>Writes the contents of the string or bytevector <tt>BUFFER</tt> into the file with the file-descriptor <tt>FILENO</tt>. If the optional argument <tt>SIZE</tt> is given, then only the specified number of bytes are written.</p><a name='file-control'><h3>file-control</h3></a><pre>[procedure] (file-control FILENO COMMAND  [ARGUMENT])</pre><p>Performs the fcntl operation <tt>COMMAND</tt> with the given <tt>FILENO</tt> and optional <tt>ARGUMENT</tt>. The return value is meaningful depending on the <tt>COMMAND</tt>.</p><a name='fcntl/dupfd'><h3>fcntl/dupfd</h3></a><a name='fcntl/getfd'><h3>fcntl/getfd</h3></a><a name='fcntl/setfd'><h3>fcntl/setfd</h3></a><a name='fcntl/getfl'><h3>fcntl/getfl</h3></a><a name='fcntl/setfl'><h3>fcntl/setfl</h3></a><p>These variables contain commands for <tt>file-control</tt>.</p><a name='fileno/stdin'><h3>fileno/stdin</h3></a><a name='fileno/stdout'><h3>fileno/stdout</h3></a><a name='fileno/stderr'><h3>fileno/stderr</h3></a><p>These variables contain file-descriptors for the standard I/O files.</p><a name='open/rdonly'><h3>open/rdonly</h3></a><a name='open/wronly'><h3>open/wronly</h3></a><a name='open/rdwr'><h3>open/rdwr</h3></a><a name='open/read'><h3>open/read</h3></a><a name='open/write'><h3>open/write</h3></a><a name='open/creat'><h3>open/creat</h3></a><a name='open/append'><h3>open/append</h3></a><a name='open/excl'><h3>open/excl</h3></a><a name='open/noctty'><h3>open/noctty</h3></a><a name='open/nonblock'><h3>open/nonblock</h3></a><a name='open/trunc'><h3>open/trunc</h3></a><a name='open/sync'><h3>open/sync</h3></a><a name='open/fsync'><h3>open/fsync</h3></a><a name='open/binary'><h3>open/binary</h3></a><a name='open/text'><h3>open/text</h3></a><p>Flags for use with <tt>file-open</tt>.</p><a name='open-input-file*'><h3>open-input-file*</h3></a><a name='open-output-file*'><h3>open-output-file*</h3></a><pre>[procedure] (open-input-file* FILENO [OPENMODE])
[procedure] (open-output-file* FILENO [OPENMODE])</pre><p>Opens file for the file-descriptor <tt>FILENO</tt> for input or output and returns a port.  <tt>FILENO</tt> should be a positive exact integer. <tt>OPENMODE</tt> specifies an additional mode for opening the file (currently only the keyword <tt>#:append</tt> is supported, which opens an output-file for appending).</p><a name='port->fileno'><h3>port->fileno</h3></a><pre>[procedure] (port-&gt;fileno PORT)</pre><p>If <tt>PORT</tt> is a file- or tcp-port, then a file-descriptor is returned for this port. Otherwise an error is signaled.</p><a name='Retrieving file attributes'><h2>Retrieving file attributes</h2></a><a name='file-access-time'><h3>file-access-time</h3></a><a name='file-change-time'><h3>file-change-time</h3></a><a name='file-modification-time'><h3>file-modification-time</h3></a><pre>[procedure] (file-access-time FILE)
[procedure] (file-change-time FILE)
[procedure] (file-modification-time FILE)</pre><p>Returns time (in seconds) of the last access, modification or change of <tt>FILE</tt>. <tt>FILE</tt> may be a filename or a file-descriptor. If the file does not exist, an error is signaled.</p><a name='file-stat'><h3>file-stat</h3></a><pre>[procedure] (file-stat FILE [LINK])</pre><p>Returns a 13-element vector with the following contents: inode-number, mode (as with <tt>file-permissions</tt>), number of hard links, uid of owner (as with <tt>file-owner</tt>), gid of owner, size (as with <tt>file-size</tt>) and access-, change- and modification-time (as with <tt>file-access-time</tt>, <tt>file-change-time</tt> and <tt>file-modification-time</tt>, device id, device type (for special file inode, blocksize and blocks allocated.  On Windows systems the last 4 values are undefined.  If the optional argument <tt>LINK</tt> is given and not <tt>#f</tt>, then the file-statistics vector will be resolved for symbolic links (otherwise symbolic links are not resolved).</p><a name='file-position'><h3>file-position</h3></a><pre>[procedure] (file-position FILE)</pre><p>Returns the current file position of <tt>FILE</tt>, which should be a port or a file-descriptor.</p><a name='file-size'><h3>file-size</h3></a><pre>[procedure] (file-size FILENAME)</pre><p>Returns the size of the file designated by <tt>FILE</tt>.  <tt>FILE</tt> may be a filename or a file-descriptor.  If the file does not exist, an error is signaled.</p><a name='regular-file?'><h3>regular-file?</h3></a><pre>[procedure] (regular-file? FILENAME)</pre><p>Returns true, if <tt>FILENAME</tt> names a regular file (not a directory or symbolic link).</p><a name='Changing file attributes'><h2>Changing file attributes</h2></a><a name='file-truncate'><h3>file-truncate</h3></a><pre>[procedure] (file-truncate FILE OFFSET)</pre><p>Truncates the file <tt>FILE</tt> to the length <tt>OFFSET</tt>, which should be an integer. If the file-size is smaller or equal to <tt>OFFSET</tt> then nothing is done.  <tt>FILE</tt> should be a filename or a file-descriptor.</p><a name='set-file-position!'><h3>set-file-position!</h3></a><pre>[procedure] (set-file-position! FILE POSITION [WHENCE])
[procedure] (set! (file-position FILE) POSITION)</pre><p>Sets the current read/write position of <tt>FILE</tt> to <tt>POSITION</tt>, which should be an exact integer. <tt>FILE</tt> should be a port or a file-descriptor.  <tt>WHENCE</tt> specifies how the position is to interpreted and should be one of the values <tt>seek/set, seek/cur</tt> and <tt>seek/end</tt>. It defaults to <tt>seek/set</tt>.</p><p>Exceptions: <tt>(exn bounds)</tt>, <tt>(exn i/o file)</tt></p><a name='Processes'><h2>Processes</h2></a><a name='current-process-id'><h3>current-process-id</h3></a><pre>[procedure] (current-process-id)</pre><p>Returns the process ID of the current process.</p><a name='parent-process-id'><h3>parent-process-id</h3></a><pre>[procedure] (parent-process-id)</pre><p>Returns the process ID of the parent of the current process.</p><a name='process-execute'><h3>process-execute</h3></a><pre>[procedure] (process-execute PATHNAME [ARGUMENT-LIST [ENVIRONMENT-LIST]])</pre><p>Creates a new child process and replaces the running process with it using the C library function <tt>execvp(3)</tt>. If the optional argument <tt>ARGUMENT-LIST</tt> is given, then it should contain a list of strings which are passed as arguments to the subprocess. If the optional argument <tt>ENVIRONMENT-LIST</tt> is supplied, then the library function <tt>execve(2)</tt> is used, and the environment passed in <tt>ENVIRONMENT-LIST</tt> (which should be of the form <tt>("&lt;NAME&gt;=&lt;VALUE&gt;" ...)</tt> is given to the invoked process. Note that <tt>execvp(3)</tt> respects the current setting of the <tt>PATH</tt> environment variable while <tt>execve(3)</tt> does not.</p><p>On native Windows, <tt>process-execute</tt> ignores the <tt>ENVIRONMENT-LIST</tt> arguments.</p><a name='process-fork'><h3>process-fork</h3></a><pre>[procedure] (process-fork [THUNK])</pre><p>Creates a new child process with the UNIX system call <tt>fork()</tt>. Returns either the PID of the child process or 0. If <tt>THUNK</tt> is given, then the child process calls it as a procedure with no arguments and terminates.</p><a name='process-run'><h3>process-run</h3></a><pre>[procedure] (process-run PATHNAME [LIST])</pre><p>Creates a new child process using the UNIX system call <tt>fork()</tt> that executes the program given by the string <tt>PATHNAME</tt> using the UNIX system call <tt>execv()</tt>.  The PID of the new process is returned. If <tt>LIST</tt> is not specified, then <tt>PATHNAME</tt> is passed to a program named by the environment variable <tt>SHELL</tt> (or <tt>/bin/sh</tt>, if the variable is not defined), so usual argument expansion can take place.</p><a name='process-signal'><h3>process-signal</h3></a><pre>[procedure] (process-signal PID [SIGNAL])</pre><p>Sends <tt>SIGNAL</tt> to the process with the id <tt>PID</tt> using the UNIX system call <tt>kill()</tt>. <tt>SIGNAL</tt> defaults to the value of the variable <tt>signal/term</tt>.</p><a name='process-wait'><h3>process-wait</h3></a><pre>[procedure] (process-wait [PID [NOHANG]])</pre><p>Suspends the current process until the child process with the id <tt>PID</tt> has terminated using the UNIX system call <tt>waitpid()</tt>. If <tt>PID</tt> is not given, then this procedure waits for any child process. If <tt>NOHANG</tt> is given and not <tt>#f</tt> then the current process is not suspended.  This procedure returns three values:</p><ul><li><tt>PID</tt> or 0, if <tt>NOHANG</tt> is true and the child process has not terminated yet</li><li><tt>#t</tt> if the process exited normally or <tt>#f</tt> otherwise</li><li>either the exit status, if the process terminated normally or the signal number that terminated/stopped the process.</li></ul><a name='process'><h3>process</h3></a><pre>[procedure] (process COMMANDLINE [ARGUMENTLIST [ENVIRONMENT]])</pre><p>Passes the string <tt>COMMANDLINE</tt> to the host-system's shell that is invoked as a subprocess and returns three values: an input port from which data written by the sub-process can be read, an output port from which any data written to will be received as input in the sub-process and the process-id of the started sub-process. Blocking reads and writes to or from the ports returned by <tt>process</tt> only block the current thread, not other threads executing concurrently.</p><p>If <tt>ARGUMENTLIST</tt> is given, then the invocation of the subprocess is not done via the shell, but directly. The arguments are directly passed to <tt>process-execute</tt> (as is <tt>ENVIRONMENT</tt>). Not using the shell may be preferrable for security reasons.</p><p>On native Windows the <tt>ARGUMENTLIST</tt> and <tt>ENVIRONMENT</tt> arguments are ignored.</p><a name='process*'><h3>process*</h3></a><pre>[procedure] (process* COMMANDLINE [ARGUMENTLIST [ENVIRONMENT]])</pre><p>Like <tt>process</tt> but returns 4 values: an input port from which data written by the sub-process can be read, an output port from which any data written to will be received as input in the sub-process, the process-id of the started sub-process, and an input port from which data written by the sub-process to <tt>stderr</tt> can be read.</p><a name='sleep'><h3>sleep</h3></a><pre>[procedure] (sleep SECONDS)</pre><p>Puts the process to sleep for <tt>SECONDS</tt>. Returns either 0 if the time has completely elapsed, or the number of remaining seconds, if a signal occurred.</p><a name='Hard and symbolic links'><h2>Hard and symbolic links</h2></a><a name='symbolic-link?'><h3>symbolic-link?</h3></a><pre>[procedure] (symbolic-link? FILENAME)</pre><p>Returns true, if <tt>FILENAME</tt> names a symbolic link.</p><a name='create-symbolic-link'><h3>create-symbolic-link</h3></a><pre>[procedure] (create-symbolic-link OLDNAME NEWNAME)</pre><p>Creates a symbolic link with the filename <tt>NEWNAME</tt> that points to the file named <tt>OLDNAME</tt>.</p><a name='read-symbolic-link'><h3>read-symbolic-link</h3></a><pre>[procedure] (read-symbolic-link FILENAME)</pre><p>Returns the filename to which the symbolic link <tt>FILENAME</tt> points.</p><a name='file-link'><h3>file-link</h3></a><pre>[procedure] (file-link OLDNAME NEWNAME)</pre><p>Creates a hard link from <tt>OLDNAME</tt> to <tt>NEWNAME</tt> (both strings).</p><a name='Permissions'><h2>Permissions</h2></a><a name='file-owner'><h3>file-owner</h3></a><pre>[procedure] (file-owner FILE)</pre><p>Returns the user-id of <tt>FILE</tt>.  <tt>FILE</tt> may be a filename or a file-descriptor.</p><a name='file-permissions'><h3>file-permissions</h3></a><pre>[procedure] (file-permissions FILE)</pre><p>Returns the permission bits for <tt>FILE</tt>. You can test this value by performing bitwise operations on the result and the <tt>perm/...</tt> values.  <tt>FILE</tt> may be a filename or a file-descriptor.</p><a name='file-read-access?'><h3>file-read-access?</h3></a><a name='file-write-access?'><h3>file-write-access?</h3></a><a name='file-execute-access?'><h3>file-execute-access?</h3></a><pre>[procedure] (file-read-access? FILENAME)
[procedure] (file-write-access? FILENAME)
[procedure] (file-execute-access? FILENAME)</pre><p>These procedures return <tt>#t</tt> if the current user has read, write or execute permissions on the file named <tt>FILENAME</tt>.</p><a name='change-file-mode'><h3>change-file-mode</h3></a><pre>[procedure] (change-file-mode FILENAME MODE)</pre><p>Changes the current file mode of the file named <tt>FILENAME</tt> to <tt>MODE</tt> using the <tt>chmod()</tt> system call.  The <tt>perm/...</tt> variables contain the various permission bits and can be combinded with the <tt>bitwise-ior</tt> procedure.</p><a name='change-file-owner'><h3>change-file-owner</h3></a><pre>[procedure] (change-file-owner FILENAME UID GID)</pre><p>Changes the owner information of the file named <tt>FILENAME</tt> to the user- and group-ids <tt>UID</tt> and <tt>GID</tt> (which should be exact integers) using the <tt>chown()</tt> system call.</p><a name='current-user-id'><h3>current-user-id</h3></a><a name='current-group-id'><h3>current-group-id</h3></a><a name='current-effective-user-id'><h3>current-effective-user-id</h3></a><a name='current-effective-group-id'><h3>current-effective-group-id</h3></a><pre>[procedure] (current-user-id)
[procedure] (current-group-id)
[procedure] (current-effective-user-id)
[procedure] (current-effective-group-id)</pre><p>Return the user- and group-ids of the current process.</p><a name='process-group-id'><h3>process-group-id</h3></a><pre>[procedure] (process-group-id PID)</pre><p>Returns the process group ID of the process specified by <tt>PID</tt>.</p><a name='group-information'><h3>group-information</h3></a><pre>[procedure] (group-information GROUP)</pre><p>If <tt>GROUP</tt> specifies a valid group-name or group-id, then this procedure returns a list of four values: the group-name, the encrypted group password, the group ID and a list of the names of all group members. If no group with the given name or ID exists, then <tt>#f</tt> is returned.</p><a name='get-groups'><h3>get-groups</h3></a><pre>[procedure] (get-groups)</pre><p>Returns a list with the supplementary group IDs of the current user.</p><a name='set-groups!'><h3>set-groups!</h3></a><pre>[procedure] (set-groups! GIDLIST)</pre><p>Sets the supplementrary group IDs of the current user to the IDs given in the list <tt>GIDLIST</tt>.</p><p>Only the superuser may invoke this procedure.</p><a name='initialize-groups'><h3>initialize-groups</h3></a><pre>[procedure] (initialize-groups USERNAME BASEGID)</pre><p>Sets the supplementrary group IDs of the current user to the IDs from the user with name <tt>USERNAME</tt>  (a string), including <tt>BASEGID</tt>.</p><p>Only the superuser may invoke this procedure.</p><a name='perm/irusr'><h3>perm/irusr</h3></a><a name='perm/iwusr'><h3>perm/iwusr</h3></a><a name='perm/ixusr'><h3>perm/ixusr</h3></a><a name='perm/irgrp'><h3>perm/irgrp</h3></a><a name='perm/iwgrp'><h3>perm/iwgrp</h3></a><a name='perm/ixgrp'><h3>perm/ixgrp</h3></a><a name='perm/iroth'><h3>perm/iroth</h3></a><a name='perm/iwoth'><h3>perm/iwoth</h3></a><a name='perm/ixoth'><h3>perm/ixoth</h3></a><a name='perm/irwxu'><h3>perm/irwxu</h3></a><a name='perm/irwxg'><h3>perm/irwxg</h3></a><a name='perm/irwxo'><h3>perm/irwxo</h3></a><a name='perm/isvtx'><h3>perm/isvtx</h3></a><a name='perm/isuid'><h3>perm/isuid</h3></a><a name='perm/isgid'><h3>perm/isgid</h3></a><p>These variables contain permission bits as used in <tt>change-file-mode</tt>.</p><a name='set-user-id!'><h3>set-user-id!</h3></a><pre>[procedure] (set-user-id! UID)
[setter] (set! (current-user-id) UID)</pre><p>Sets the effective user id of the current process to <tt>UID</tt>, which should be a positive integer.</p><a name='set-group-id!'><h3>set-group-id!</h3></a><pre>[procedure] (set-group-id! GID)
[setter] (set! (current-group-id) GID)</pre><p>Sets the effective group id of the current process to <tt>GID</tt>, which should be a positive integer.</p><a name='set-process-group-id!'><h3>set-process-group-id!</h3></a><pre>[procedure] (set-process-group-id! PID PGID)
[setter] (set! (process-group-id PID) PGID)</pre><p>Sets the process group ID of the process specifed by <tt>PID</tt> to <tt>PGID</tt>.</p><a name='user-information'><h3>user-information</h3></a><pre>[procedure] (user-information USER)</pre><p>If <tt>USER</tt> specifes a valid username (as a string) or user ID, then the user database is consulted and a list of 7 values are returned: the user-name, the encrypted password, the user ID, the group ID, a user-specific string, the home directory and the default shell. If no user with this name or ID can be found, then <tt>#f</tt> is returned.</p><a name='create-session'><h3>create-session</h3></a><pre>[procedure] (create-session)</pre><p>Creates a new session if the calling process is not a process group leader and returns the session ID.</p><a name='Record locking'><h2>Record locking</h2></a><a name='file-lock'><h3>file-lock</h3></a><pre>[procedure] (file-lock PORT [START [LEN]])</pre><p>Locks the file associated with <tt>PORT</tt> for reading or writing (according to whether <tt>PORT</tt> is an input- or output-port). <tt>START</tt> specifies the starting position in the file to be locked and defaults to 0. <tt>LEN</tt> specifies the length of the portion to be locked and defaults to <tt>#t</tt>, which means the complete file. <tt>file-lock</tt> returns a <em>lock</em>-object.</p><a name='file-lock/blocking'><h3>file-lock/blocking</h3></a><pre>[procedure] (file-lock/blocking PORT [START [LEN]])</pre><p>Similar to <tt>file-lock</tt>, but if a lock is held on the file, the current process blocks (including all threads) until the lock is released.</p><a name='file-test-lock'><h3>file-test-lock</h3></a><pre>[procedure] (file-test-lock PORT [START [LEN]])</pre><p>Tests whether the file associated with <tt>PORT</tt> is locked for reading or writing (according to whether <tt>PORT</tt> is an input- or output-port) and returns either <tt>#f</tt> or the process-id of the locking process.</p><a name='file-unlock'><h3>file-unlock</h3></a><pre>[procedure] (file-unlock LOCK)</pre><p>Unlocks the previously locked portion of a file given in <tt>LOCK</tt>.</p><a name='Signal handling'><h2>Signal handling</h2></a><a name='set-alarm!'><h3>set-alarm!</h3></a><pre>[procedure] (set-alarm! SECONDS)</pre><p>Sets an internal timer to raise the <tt>signal/alrm</tt> after <tt>SECONDS</tt> are elapsed.  You can use the <tt>set-signal-handler!</tt> procedure to write a handler for this signal.</p><a name='set-signal-handler!'><h3>set-signal-handler!</h3></a><pre>[procedure] (set-signal-handler! SIGNUM PROC)</pre><p>Establishes the procedure of one argument <tt>PROC</tt> as the handler for the signal with the code <tt>SIGNUM</tt>. <tt>PROC</tt> is called with the signal number as its sole argument. If the argument <tt>PROC</tt> is <tt>#f</tt> then any signal handler will be removed.</p><p>Note that is is unspecified in which thread of execution the signal handler will be invoked.</p><a name='signal-handler'><h3>signal-handler</h3></a><pre>[procedure] (signal-handler SIGNUM)</pre><p>Returns the signal handler for the code <tt>SIGNUM</tt> or <tt>#f</tt>.</p><a name='set-signal-mask!'><h3>set-signal-mask!</h3></a><pre>[procedure] (set-signal-mask! SIGLIST)</pre><p>Sets the signal mask of the current process to block all signals given in the list <tt>SIGLIST</tt>.  Signals masked in that way will not be delivered to the current process.</p><a name='signal-mask'><h3>signal-mask</h3></a><pre>[procedure] (signal-mask)</pre><p>Returns the signal mask of the current process.</p><a name='signal-masked?'><h3>signal-masked?</h3></a><pre>[procedure] (signal-masked? SIGNUM)</pre><p>Returns whether the signal for the code <tt>SIGNUM</tt> is currently masked.</p><a name='signal-mask!'><h3>signal-mask!</h3></a><pre>[procedure] (signal-mask! SIGNUM)</pre><p>Masks (blocks) the signal for the code <tt>SIGNUM</tt>.</p><a name='signal-unmask!'><h3>signal-unmask!</h3></a><pre>[procedure] (signal-unmask! SIGNUM)</pre><p>Unmasks (unblocks) the signal for the code <tt>SIGNUM</tt>.</p><a name='signal/term'><h3>signal/term</h3></a><a name='signal/kill'><h3>signal/kill</h3></a><a name='signal/int'><h3>signal/int</h3></a><a name='signal/hup'><h3>signal/hup</h3></a><a name='signal/fpe'><h3>signal/fpe</h3></a><a name='signal/ill'><h3>signal/ill</h3></a><a name='signal/segv'><h3>signal/segv</h3></a><a name='signal/abrt'><h3>signal/abrt</h3></a><a name='signal/trap'><h3>signal/trap</h3></a><a name='signal/quit'><h3>signal/quit</h3></a><a name='signal/alrm'><h3>signal/alrm</h3></a><a name='signal/vtalrm'><h3>signal/vtalrm</h3></a><a name='signal/prof'><h3>signal/prof</h3></a><a name='signal/io'><h3>signal/io</h3></a><a name='signal/urg'><h3>signal/urg</h3></a><a name='signal/chld'><h3>signal/chld</h3></a><a name='signal/cont'><h3>signal/cont</h3></a><a name='signal/stop'><h3>signal/stop</h3></a><a name='signal/tstp'><h3>signal/tstp</h3></a><a name='signal/pipe'><h3>signal/pipe</h3></a><a name='signal/xcpu'><h3>signal/xcpu</h3></a><a name='signal/xfsz'><h3>signal/xfsz</h3></a><a name='signal/usr1'><h3>signal/usr1</h3></a><a name='signal/usr2'><h3>signal/usr2</h3></a><a name='signal/winch'><h3>signal/winch</h3></a><p>These variables contain signal codes for use with <tt>process-signal</tt>,  <tt>set-signal-handler!</tt>,  <tt>signal-handler</tt>,  <tt>signal-masked?</tt>,  <tt>signal-mask!</tt>,  or <tt>signal-unmask!</tt>.</p><a name='Environment access'><h2>Environment access</h2></a><a name='current-environment'><h3>current-environment</h3></a><pre>[procedure] (current-environment)</pre><p>Returns a association list of the environment variables and their current values. </p><a name='setenv'><h3>setenv</h3></a><pre>[procedure] (setenv VARIABLE VALUE)</pre><p>Sets the environment variable named <tt>VARIABLE</tt> to <tt>VALUE</tt>. Both arguments should be strings. If the variable is not defined in the environment, a new definition is created.</p><a name='unsetenv'><h3>unsetenv</h3></a><pre>[procedure] (unsetenv VARIABLE)</pre><p>Removes the definition of the environment variable <tt>VARIABLE</tt> from the environment of the current process. If the variable is not defined, nothing happens.</p><a name='Memory mapped I/O'><h2>Memory mapped I/O</h2></a><a name='memory-mapped-file?'><h3>memory-mapped-file?</h3></a><pre>[pocedure] (memory-mapped-file? X)</pre><p>Returns <tt>#t</tt>, if <tt>X</tt> is an object representing a memory mapped file, or <tt>#f</tt> otherwise.</p><a name='map-file-to-memory'><h3>map-file-to-memory</h3></a><pre>[procedure] (map-file-to-memory ADDRESS LEN PROTECTION FLAG FILENO [OFFSET])</pre><p>Maps a section of a file to memory using the C function <tt>mmap()</tt>.  <tt>ADDRESS</tt> should be a foreign pointer object or <tt>#f</tt>; <tt>LEN</tt> specifies the size of the section to be mapped; <tt>PROTECTION</tt> should be one or more of the flags <tt>prot/read, prot/write, prot/exec</tt> or <tt>prot/none</tt> <strong>bitwise-ior</strong>ed together; <tt>FLAG</tt> should be one or more of the flags <tt>map/fixed, map/shared, map/private, map/anonymous</tt> or <tt>map/file</tt>; <tt>FILENO</tt> should be the file-descriptor of the mapped file. The optional argument <tt>OFFSET</tt> gives the offset of the section of the file to be mapped and defaults to 0. This procedure returns an object representing the mapped file section.  The procedure <tt>move-memory!</tt> can be used to access the mapped memory.</p><a name='memory-mapped-file-pointer'><h3>memory-mapped-file-pointer</h3></a><pre>[procedure] (memory-mapped-file-pointer MMAP)</pre><p>Returns a machine pointer to the start of the memory region to which the file is mapped.</p><a name='unmap-file-from-memory'><h3>unmap-file-from-memory</h3></a><pre>[procedure] (unmap-file-from-memory MMAP [LEN])</pre><p>Unmaps the section of a file mapped to memory using the C function <tt>munmap()</tt>.  <tt>MMAP</tt> should be a mapped file as returned by the procedure <tt>map-file-to-memory</tt>.  The optional argument <tt>LEN</tt> specifies the length of the section to be unmapped and defaults to the complete length given when the file was mapped.</p><a name='Date and time routines'><h2>Date and time routines</h2></a><a name='seconds->local-time'><h3>seconds->local-time</h3></a><pre>[procedure] (seconds-&gt;local-time SECONDS)</pre><p>Breaks down the time value represented in <tt>SECONDS</tt> into a 10 element vector of the form <tt>#(seconds minutes hours mday month year wday yday dstflag timezone)</tt>, in the following format:</p><dl><dt>seconds (0)</dt><dd>the number of seconds after the minute (0 - 59)</dd><dt>minutes (1)</dt><dd>the number of minutes after the hour (0 - 59)</dd><dt>hours (2)</dt><dd>the number of hours past midnight (0 - 23)</dd><dt>mday (3)</dt><dd>the day of the month (1 - 31)</dd><dt>month (4)</dt><dd>the number of months since january (0 - 11)</dd><dt>year (5)</dt><dd>the number of years since 1900</dd><dt>wday (6)</dt><dd>the number of days since Sunday (0 - 6)</dd><dt>yday (7)</dt><dd>the number of days since January 1 (0 - 365)</dd><dt>dstflag (8)</dt><dd>a flag that is true if Daylight Saving Time is in effect at the time described.</dd><dt>timezone (9)</dt><dd>the difference between UTC and the latest local standard time, in seconds west of UTC.</dd></dl><a name='local-time->seconds'><h3>local-time->seconds</h3></a><pre>[procedure] (local-time-&gt;seconds VECTOR)</pre><p>Converts the ten-element vector <tt>VECTOR</tt> representing the time value relative to the current timezone into the number of seconds since the first of January, 1970 UTC.</p><a name='local-timezone-abbreviation'><h3>local-timezone-abbreviation</h3></a><pre>[procedure] (local-timezone-abbrevtiation)</pre><p>Returns the abbreviation for the local timezone as a string.</p><a name='seconds->string'><h3>seconds->string</h3></a><pre>[procedure] (seconds-&gt;string SECONDS)</pre><p>Converts the local time represented in <tt>SECONDS</tt> into a string of the form <tt>"Tue May 21 13:46:22 1991\n"</tt>.</p><a name='seconds->utc-time'><h3>seconds->utc-time</h3></a><pre>[procedure] (seconds-&gt;utc-time SECONDS)</pre><p>Similar to <tt>seconds-&gt;local-time</tt>, but interpretes <tt>SECONDS</tt> as UTC time.</p><a name='utc-time->seconds'><h3>utc-time->seconds</h3></a><pre>[procedure] (utc-time-&gt;seconds VECTOR)</pre><p>Converts the ten-element vector <tt>VECTOR</tt> representing the UTC time value into the number of seconds since the first of January, 1970 UTC.</p><a name='time->string'><h3>time->string</h3></a><pre>[procedure] (time-&gt;string VECTOR)</pre><p>Converts the broken down time represented in the 10 element vector <tt>VECTOR</tt> into a string of the form <tt>"Tue May 21 13:46:22 1991\n"</tt>.</p><a name='Raw exit'><h2>Raw exit</h2></a><a name='_exit'><h3>_exit</h3></a><pre>[procedure] (_exit [CODE])</pre><p>Exits the current process without flushing any buffered output (using the C function <tt>_exit</tt>).  Note that the <tt>exit-handler</tt> is not called when this procedure is invoked. The optional return-code <tt>CODE</tt> defaults to <tt>0</tt>.</p><a name='ERRNO values'><h2>ERRNO values</h2></a><a name='errno/perm'><h3>errno/perm</h3></a><a name='errno/noent'><h3>errno/noent</h3></a><a name='errno/srch'><h3>errno/srch</h3></a><a name='errno/intr'><h3>errno/intr</h3></a><a name='errno/io'><h3>errno/io</h3></a><a name='errno/noexec'><h3>errno/noexec</h3></a><a name='errno/badf'><h3>errno/badf</h3></a><a name='errno/child'><h3>errno/child</h3></a><a name='errno/nomem'><h3>errno/nomem</h3></a><a name='errno/acces'><h3>errno/acces</h3></a><a name='errno/fault'><h3>errno/fault</h3></a><a name='errno/busy'><h3>errno/busy</h3></a><a name='errno/notdir'><h3>errno/notdir</h3></a><a name='errno/isdir'><h3>errno/isdir</h3></a><a name='errno/inval'><h3>errno/inval</h3></a><a name='errno/mfile'><h3>errno/mfile</h3></a><a name='errno/nospc'><h3>errno/nospc</h3></a><a name='errno/spipe'><h3>errno/spipe</h3></a><a name='errno/pipe'><h3>errno/pipe</h3></a><a name='errno/again'><h3>errno/again</h3></a><a name='errno/rofs'><h3>errno/rofs</h3></a><a name='errno/exist'><h3>errno/exist</h3></a><a name='errno/wouldblock'><h3>errno/wouldblock</h3></a><p>These variables contain error codes as returned by <tt>errno</tt>.</p><a name='Finding files'><h2>Finding files</h2></a><a name='find-files'><h3>find-files</h3></a><pre>[procedure] (find-files DIRECTORY PREDICATE [ACTION [IDENTITY [LIMIT]]])</pre><p>Recursively traverses the contents of <tt>DIRECTORY</tt> (which should be a string) and invokes the procedure <tt>ACTION</tt> for all files for which the procedure <tt>PREDICATE</tt> is true.  <tt>PREDICATE</tt> may me a procedure of one argument or a regular-expression string. <tt>ACTION</tt> should be a procedure of two arguments: the currently encountered file and the result of the previous invocation of <tt>ACTION</tt>, or, if this is the first invocation, the value of <tt>IDENTITY</tt>. <tt>ACTION</tt> defaults to <tt>cons</tt>, <tt>IDENTITY</tt> defaults to <tt>()</tt>.  <tt>LIMIT</tt> should a procedure of one argument that is called for each nested directory and which should return true, if that directory is to be traversed recursively. <tt>LIMIT</tt> may also be an exact integer that gives the maximum recursion depth. A depth of <tt>0</tt> means the files in the specified directory are traversed but not any nested directories. <tt>LIMIT</tt> may also be <tt>#f</tt> (the default), which is equivalent to <tt>(constantly #t)</tt>.</p><p>Note that <tt>ACTION</tt> is called with the full pathname of each file, including the directory prefix.</p><a name='Getting the hostname and system information'><h2>Getting the hostname and system information</h2></a><a name='get-host-name'><h3>get-host-name</h3></a><pre>[procedure] (get-host-name)</pre><p>Returns the hostname of the machine that this process is running on.</p><a name='system-information'><h3>system-information</h3></a><pre>[procedure] (system-information)</pre><p>Invokes the UNIX system call <tt>uname()</tt> and returns a list of 5 values: system-name, node-name, OS release, OS version and machine.</p><a name='Setting the file buffering mode'><h2>Setting the file buffering mode</h2></a><a name='set-buffering-mode!'><h3>set-buffering-mode!</h3></a><pre>[procedure] (set-buffering-mode! PORT MODE [BUFSIZE])</pre><p>Sets the buffering-mode for the file associated with <tt>PORT</tt> to <tt>MODE</tt>, which should be one of the keywords <tt>#:full</tt>, <tt>#:line</tt> or <tt>#:none</tt>. If <tt>BUFSIZE</tt> is specified it determines the size of the buffer to be used (if any).</p><a name='Terminal ports'><h2>Terminal ports</h2></a><a name='terminal-name'><h3>terminal-name</h3></a><pre>[procedure] (terminal-name PORT)</pre><p>Returns the name of the terminal that is connected to <tt>PORT</tt>.</p><a name='terminal-port?'><h3>terminal-port?</h3></a><pre>[procedure] (terminal-port? PORT)</pre><p>Returns <tt>#t</tt> if <tt>PORT</tt> is connected to a terminal and <tt>#f</tt> otherwise.</p><a name='How Scheme procedures relate to UNIX C functions'><h2>How Scheme procedures relate to UNIX C functions</h2></a><table><tr><td><pre>change-directory</pre><p>chdir</p></td></tr><tr><td><pre>change-file-mode</pre><p>chmod</p></td></tr><tr><td><pre>change-file-owner</pre><p>chown</p></td></tr><tr><td><pre>create-directory</pre><p>mkdir</p></td></tr><tr><td><pre>create-fifo</pre><p>mkfifo</p></td></tr><tr><td><pre>create-pipe</pre><p>pipe</p></td></tr><tr><td><pre>create-session</pre><p>setsid</p></td></tr><tr><td><pre>create-symbolic-link</pre><p>link</p></td></tr><tr><td><pre>current-directory</pre><p>curdir</p></td></tr><tr><td><pre>current-effective-groupd-id</pre><p>getegid</p></td></tr><tr><td><pre>current-effective-user-id</pre><p>geteuid</p></td></tr><tr><td><pre>current-group-id</pre><p>getgid</p></td></tr><tr><td><pre>current-parent-id</pre><p>getppid</p></td></tr><tr><td><pre>current-process-id</pre><p>getpid</p></td></tr><tr><td><pre>current-user-id</pre><p>getuid</p></td></tr><tr><td><pre>delete-directory</pre><p>rmdir</p></td></tr><tr><td><pre>duplicate-fileno</pre><p>dup/dup2</p></td></tr><tr><td><pre>_exit</pre><p>_exit</p></td></tr><tr><td><pre>file-close</pre><p>close</p></td></tr><tr><td><pre>file-access-time</pre><p>stat</p></td></tr><tr><td><pre>file-change-time</pre><p>stat</p></td></tr><tr><td><pre>file-modification-time</pre><p>stat</p></td></tr><tr><td><pre>file-execute-access?</pre><p>access</p></td></tr><tr><td><pre>file-open</pre><p>open</p></td></tr><tr><td><pre>file-lock</pre><p>fcntl</p></td></tr><tr><td><pre>file-position</pre><p>ftell/lseek</p></td></tr><tr><td><pre>file-read</pre><p>read</p></td></tr><tr><td><pre>file-read-access?</pre><p>access</p></td></tr><tr><td><pre>file-select</pre><p>select</p></td></tr><tr><td><pre>file-control</pre><p>fcntl</p></td></tr><tr><td><pre>file-stat</pre><p>stat</p></td></tr><tr><td><pre>file-test-lock</pre><p>fcntl</p></td></tr><tr><td><pre>file-truncate</pre><p>truncate/ftruncate</p></td></tr><tr><td><pre>file-unlock</pre><p>fcntl</p></td></tr><tr><td><pre>file-write</pre><p>write</p></td></tr><tr><td><pre>file-write-access?</pre><p>access</p></td></tr><tr><td><pre>get-groups</pre><p>getgroups</p></td></tr><tr><td><pre>get-host-name</pre><p>gethostname</p></td></tr><tr><td><pre>initialize-groups</pre><p>initgroups</p></td></tr><tr><td><pre>local-time-&gt;seconds</pre><p>mktime</p></td></tr><tr><td><pre>local-timezone-abbreviation</pre><p>localtime</p></td></tr><tr><td><pre>map-file-to-memory</pre><p>mmap</p></td></tr><tr><td><pre>open-input-file*</pre><p>fdopen</p></td></tr><tr><td><pre>open-output-file*</pre><p>fdopen</p></td></tr><tr><td><pre>open-input-pipe</pre><p>popen</p></td></tr><tr><td><pre>open-output-pipe</pre><p>popen</p></td></tr><tr><td><pre>port-&gt;fileno</pre><p>fileno</p></td></tr><tr><td><pre>process-execute</pre><p>execvp</p></td></tr><tr><td><pre>process-fork</pre><p>fork</p></td></tr><tr><td><pre>process-group-id</pre><p>getpgid</p></td></tr><tr><td><pre>process-signal</pre><p>kill</p></td></tr><tr><td><pre>process-wait</pre><p>waitpid</p></td></tr><tr><td><pre>close-input-pipe</pre><p>pclose</p></td></tr><tr><td><pre>close-output-pipe</pre><p>pclose</p></td></tr><tr><td><pre>read-symbolic-link</pre><p>readlink</p></td></tr><tr><td><pre>seconds-&gt;local-time</pre><p>localtime</p></td></tr><tr><td><pre>seconds-&gt;string</pre><p>ctime</p></td></tr><tr><td><pre>seconds-&gt;utc-time</pre><p>gmtime</p></td></tr><tr><td><pre>set-alarm!</pre><p>alarm</p></td></tr><tr><td><pre>set-buffering-mode!</pre><p>setvbuf</p></td></tr><tr><td><pre>set-file-position!</pre><p>fseek/seek</p></td></tr><tr><td><pre>set-groups!</pre><p>setgroups</p></td></tr><tr><td><pre>set-signal-mask!</pre><p>sigprocmask</p></td></tr><tr><td><pre>set-group-id!</pre><p>setgid</p></td></tr><tr><td><pre>set-process-group-id!</pre><p>setpgid</p></td></tr><tr><td><pre>set-user-id!</pre><p>setuid</p></td></tr><tr><td><pre>set-root-directory!</pre><p>chroot</p></td></tr><tr><td><pre>setenv</pre><p>setenv/putenv</p></td></tr><tr><td><pre>sleep</pre><p>sleep</p></td></tr><tr><td><pre>system-information</pre><p>uname</p></td></tr><tr><td><pre>terminal-name</pre><p>ttyname</p></td></tr><tr><td><pre>terminal-port?</pre><p>isatty</p></td></tr><tr><td><pre>time-&gt;string</pre><p>asctime</p></td></tr><tr><td><pre>unsetenv</pre><p>putenv</p></td></tr><tr><td><pre>unmap-file-from-memory</pre><p>munmap</p></td></tr><tr><td><pre>user-information</pre><p>getpwnam/getpwuid</p></td></tr><tr><td><pre>utc-time-&gt;seconds</pre><p>timegm</p></td></tr></table><a name='Windows specific notes'><h2>Windows specific notes</h2></a><p>The following definitions are not supported for native Windows builds (compiled with the Microsoft tools or with MingW):</p><pre>open/noctty  open/nonblock  open/fsync  open/sync
perm/isvtx  perm/isuid  perm/isgid
file-select file-control
signal/... (except signal/term, signal/int, signal/fpe, signal/ill, signal/segv, signal/abrt, signal/break)
set-signal-mask!  signal-mask  signal-masked?  signal-mask!  signal-unmask!
user-information  group-information  get-groups  set-groups!  initialize-groups
errno/wouldblock
change-file-owner
current-user-id  current-group-id  current-effective-user-id  current-effective-groupd-id
set-user-id!  set-group-id!
create-session
process-group-id  set-process-group-id!
create-symbolic-link  read-symbolic-link
file-truncate 
file-lock  file-lock/blocking  file-unlock  file-test-lock
create-fifo  fifo?
prot/...
map/...
map-file-to-memory  unmap-file-from-memory  memory-mapped-file-pointer  memory-mapped-file?
set-alarm!
terminal-port?  terminal-name
process-fork  process-signal
parent-process-id 
set-root-directory!
utc-time-&gt;seconds local-timezone-abbreviation</pre><p>Additionally, the following definitions are only available for Windows:</p><a name='spawn/overlay'><h3>spawn/overlay</h3></a><a name='spawn/wait'><h3>spawn/wait</h3></a><a name='spawn/nowait'><h3>spawn/nowait</h3></a><a name='spawn/nowaito'><h3>spawn/nowaito</h3></a><a name='spawn/detach'><h3>spawn/detach</h3></a><p>These variables contains special flags that specify the exact semantics of <tt>process-spawn</tt>: <tt>spawn/overlay</tt> replaces the current process with the new one.  <tt>spawn/wait</tt> suspends execution of the current process until the spawned process returns.  <tt>spawn/nowait</tt> does the opposite (<tt>spawn/nowaito</tt> is identical, according to the Microsoft documentation) and runs the process asynchronously. <tt>spawn/detach</tt> runs the new process in the background, without being attached to a console.</p><a name='process-spawn'><h3>process-spawn</h3></a><pre>[procedure] (process-spawn MODE FILENAME ARGUMENT ...)</pre><p>Creates and runs a new process with the given filename and command-line arguments. <tt>MODE</tt> specifies how exactly the process should be executed and must be one or more of the <tt>spawn/...</tt> flags defined above.</p><p>Previous: <a href='unit-srfi-18.html' class='internal'>Unit srfi-18</a></p><p>Next: <a href='unit-utils.html' class='internal'>Unit utils</a></p>
</body></html>