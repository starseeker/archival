file(GLOB shapelib_srcs RELATIVE ${CMAKE_CURRENT_SOURCE_DIR} "*.c")

add_library(grass_shape ${shapelib_srcs})
if(M_LIBRARY)
  target_link_libraries(grass_shape ${M_LIBRARY})
endif(M_LIBRARY)

CMAKE_MANAGE_FILES(shapefil.h include/grass)

# Because files in shapelib use the include style "grass/shapefil.h"
# we need to have the shapefil.h header in place in the build directory
# before building the grass_shape target - make it depend on the copy
# target generated by CMAKE_MANAGE_FILES for shapefil.h
add_dependencies(grass_shape shapefil_h_cp)

# Local Variables:
# tab-width: 8
# mode: cmake
# indent-tabs-mode: t
# End:
# ex: shiftwidth=2 tabstop=8
